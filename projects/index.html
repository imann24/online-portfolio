<head>
     <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
     <script src = "../scripts/json.js"></script>
     <script>
          function listProjects()
          {
               var projs = allProjects();
               for(var i = 0; i < projs.length; i++)
               {
                    $("#projects").append("<div id = 'proj" + i + "'></div>");
                    $("#proj" + i).append("<p>" + projs[i]["Title"] + "</p>");
                    $("#proj" + i).append("<img src = '" + projs[i]["Key"] + "/icon.png' >");
               }
          }
          function createProjects(columnCount)
          {
               $("#projects").append("<table id = 'proj-table'></table>");
               var projs = allProjects();
               var remainingCellCount = projs.length;
               var projIndex = 0;
               var rowIndex = 0;
               while(remainingCellCount > 0)
               {
                    $("#proj-table").append("<tr id ='project-table-row" + rowIndex + "'></tr>");
                    for(var i = 0; i < columnCount && remainingCellCount > 0; i++)
                    {
                         $("#project-table-row" + rowIndex).append("<td><img src ='" + projs[projIndex]["Key"] + "/icon.png' ></td>");
                         remainingCellCount--;
                         projIndex++;
                    }
                    rowIndex++;
               }
          }
          setLoadCallback(function()
          {
               createProjects(4);
          });
          loadProjects();
     </script>
</head>
<body>
     <div id = "projects">
     </div>
</body>
